<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="زینا">
  <meta name="theme-color" content="#00b3ad">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="/zilingooo-app/icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/zilingooo-app/icon-192.png">
  <title>شروع با زینا</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    *, *::before, *::after {
      box-sizing: border-box;
    }
    :root {
      --primary: #00b3ad;
      --secondary: #008a84;
      --accent: #00d4aa;
      --success: #00c896;
      --warning: #ffa726;
      --danger: #ff5722;
      --bg: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 30%, #cbd5e1 70%, #94a3b8 100%);
      --text: #2c3e50;
      --text-light: #546e7a;
      --card: rgba(255, 255, 255, 0.9);
      --card-shadow: 0 20px 40px rgba(0, 179, 173, 0.15);
    }
    [data-theme="dark"] {
      --bg: linear-gradient(135deg, #0f172a 0%, #1e293b 30%, #334155 70%, #475569 100%);
      --text: #f1f5f9;
      --text-light: #cbd5e1;
      --card: rgba(30, 41, 59, 0.9);
      --card-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    body {
      font-family: 'Vazirmatn', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg);
      background-attachment: fixed;
      min-height: 100vh;
      width: 100%;
      max-width: 100vw;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: all 0.3s ease;
      opacity: 0;
    }
    [data-lang="en"] body {
      font-family: 'Inter', sans-serif;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(59, 130, 246, 0.15) 0%, transparent 50%);
      animation: float 20s ease-in-out infinite;
      z-index: -1;
      transition: all 0.3s ease;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      33% { transform: translateY(-30px) rotate(120deg); }
      66% { transform: translateY(30px) rotate(240deg); }
    }
    .header {
      width: 100%;
      max-width: 480px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      position: relative;
    }
    .controls-top {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      align-self: flex-end;
    }
    .language-toggle, .theme-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--card);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 20px;
      padding: 10px 15px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 25px rgba(0, 179, 173, 0.2);
      font-size: 14px;
      font-weight: 600;
      color: var(--text);
    }
    .language-toggle:hover, .theme-toggle:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 35px rgba(0, 179, 173, 0.3);
    }
    .theme-toggle {
      padding: 10px 12px;
    }
    #themeIcon, #langIcon {
      font-size: 18px;
      animation: iconFloat 3s ease-in-out infinite;
    }
    @keyframes iconFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-3px); }
    }
    .logo-top {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      animation: popLogo 1.5s ease-out;
      margin-bottom: 12px;
      position: relative;
    }
    .logo-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 32px;
      margin-bottom: 8px;
      animation: spinLogo 1.5s ease-out;
      box-shadow: 0 10px 30px rgba(0, 179, 173, 0.4);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .logo-icon:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 20px 40px rgba(0, 179, 173, 0.5);
    }
    .logo-icon::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shine 3s infinite;
    }
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }
    .logo-text {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      animation: textGlow 2s ease-in-out infinite alternate;
    }
    @keyframes textGlow {
      0% { filter: brightness(1); }
      100% { filter: brightness(1.2); }
    }
    @keyframes popLogo {
      0% { transform: scale(0.5) rotate(-180deg); opacity: 0; }
      50% { transform: scale(1.1) rotate(-90deg); opacity: 0.8; }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }
    @keyframes spinLogo {
      0% { transform: rotate(-360deg) scale(0.5); opacity: 0; }
      100% { transform: rotate(0deg) scale(1); opacity: 1; }
    }
    .back-btn {
      font-size: 16px;
      color: white;
      background: linear-gradient(135deg, #ff6b6b, #ee5a52);
      border: none;
      cursor: pointer;
      font-weight: 600;
      display: inline-block;
      padding: 10px 20px;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      overflow: hidden;
    }
    .back-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    .back-btn:hover::before {
      left: 100%;
    }
    .back-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
    }
    .card {
      width: 100%;
      max-width: 480px;
      background: var(--card);
      backdrop-filter: blur(25px);
      border-radius: 25px;
      box-shadow: var(--card-shadow);
      padding: 40px;
      text-align: center;
      animation: fadeUp 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      margin-top: 16px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 35px 60px rgba(0, 0, 0, 0.2);
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: cardShine 6s infinite;
      animation-delay: 1s;
    }
    @keyframes cardShine {
      0% { left: -100%; }
      30% { left: 100%; }
      100% { left: 100%; }
    }
    .page-enter {
      animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .page-exit {
      animation: slideOutLeft 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    @keyframes slideInRight {
      0% { transform: translateX(100%) scale(0.9); opacity: 0; }
      100% { transform: translateX(0) scale(1); opacity: 1; }
    }
    @keyframes slideOutLeft {
      0% { transform: translateX(0) scale(1); opacity: 1; }
      100% { transform: translateX(-100%) scale(0.9); opacity: 0; }
    }
    #level {
      background: linear-gradient(135deg, rgba(0, 179, 173, 0.1), rgba(0, 212, 170, 0.1));
    }
    #level h1 {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white !important;
      -webkit-text-fill-color: white !important;
      background-clip: unset !important;
      -webkit-background-clip: unset !important;
      padding: 15px 20px;
      border-radius: 20px;
      margin-bottom: 25px;
      box-shadow: 0 10px 30px rgba(0, 179, 173, 0.3);
      animation: pulse 2s infinite;
    }
    .intro-sticker {
      font-size: 80px;
      margin-bottom: 20px;
      animation: bounce 2s infinite, rotate 10s linear infinite;
      display: inline-block;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1));
      transition: all 0.3s ease;
    }
    .intro-sticker:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 15px 30px rgba(0,0,0,0.2));
    }
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0) rotate(var(--rotation, 0deg)); }
      40% { transform: translateY(-15px) rotate(var(--rotation, 0deg)); }
      60% { transform: translateY(-8px) rotate(var(--rotation, 0deg)); }
    }
    @keyframes rotate {
      0% { --rotation: 0deg; }
      25% { --rotation: 5deg; }
      50% { --rotation: 0deg; }
      75% { --rotation: -5deg; }
      100% { --rotation: 0deg; }
    }
    @keyframes fadeUp {
      0% { opacity: 0; transform: translateY(50px) scale(0.9); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    h1 {
      font-size: 26px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
      font-weight: 700;
      animation: textShimmer 3s ease-in-out infinite;
    }
    @keyframes textShimmer {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    h2 {
      font-size: 20px;
      color: var(--primary);
      margin-bottom: 12px;
      text-align: right;
      font-weight: 600;
      position: relative;
    }
    [data-lang="en"] h2 {
      text-align: left;
    }
    h2::before {
      content: '✨';
      position: absolute;
      left: -45px;
      top: 2px;
      animation: sparkle 2s infinite;
      z-index: 10;
      font-size: 18px;
    }
    [data-lang="en"] h2::before {
      left: -45px;
    }
    @keyframes sparkle {
      0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
      50% { opacity: 0.5; transform: scale(1.3) rotate(180deg); }
    }
    p {
      font-size: 16px;
      color: var(--text);
      font-weight: 500;
      line-height: 1.8;
      margin-bottom: 16px;
      text-align: right;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    [data-lang="en"] p {
      text-align: left;
    }
    input {
      width: 100%;
      padding: 16px 20px;
      margin-bottom: 25px;
      border-radius: 15px;
      border: 2px solid rgba(0, 179, 173, 0.2);
      font-size: 16px;
      touch-action: manipulation;
      background: rgba(255, 255, 255, 0.9);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: inherit;
      color: var(--text);
    }
    input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 179, 173, 0.1);
      transform: translateY(-2px) scale(1.02);
      background: rgba(255, 255, 255, 1);
    }
    .btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      background-size: 200% 200%;
      color: white;
      border: none;
      padding: 16px 24px;
      border-radius: 15px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      margin-bottom: 20px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 25px rgba(0, 179, 173, 0.3);
      touch-action: manipulation;
      position: relative;
      overflow: hidden;
      font-family: inherit;
      animation: gradientShift 3s ease infinite;
    }
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.4s ease;
    }
    .btn:hover::before {
      left: 100%;
    }
    .btn:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 35px rgba(0, 179, 173, 0.4);
    }
    .btn:active {
      transform: translateY(-2px) scale(0.98);
      box-shadow: 0 5px 15px rgba(0, 179, 173, 0.3);
    }
    .btn-start {
      background: linear-gradient(135deg, var(--success), var(--accent));
      animation: pulse 2s infinite;
      box-shadow: 0 8px 25px rgba(0, 200, 150, 0.3);
    }
    .btn-start:hover {
      box-shadow: 0 12px 35px rgba(0, 200, 150, 0.4);
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .fade-in-title {
      animation: fadeInDown 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .fade-in-text {
      animation: fadeInUp 1.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    @keyframes fadeInDown {
      0% { opacity: 0; transform: translateY(-40px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(40px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .language-btn {
      margin-bottom: 15px;
      position: relative;
    }
    .level-section {
      margin-bottom: 40px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 20px;
      border: 2px solid rgba(0, 179, 173, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 179, 173, 0.1);
    }
    /* Audio Player Styles */
    .audio-player-modern {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 8px 30px rgba(0, 179, 173, 0.15);
      border: 1px solid rgba(0, 179, 173, 0.2);
      text-align: center;
    }
    .audio-wrapper {
      max-width: 100%;
    }
    .player-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }
    .player-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      border-radius: 12px;
      padding: 12px 18px;
      font-size: 14px;
      font-weight: 600;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 179, 173, 0.3);
      min-width: 80px;
    }
    .player-btn:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 179, 173, 0.4);
    }
    .player-btn:active {
      transform: translateY(0) scale(0.98);
    }
    .progress-container {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0 auto;
      width: 100%;
      max-width: 400px;
    }
    .time {
      font-size: 14px;
      font-weight: 600;
      color: var(--text);
      min-width: 45px;
      text-align: center;
    }
    .progress-bar-modern {
      flex: 1;
      height: 8px;
      background: rgba(0, 179, 173, 0.2);
      border-radius: 4px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .progress-fill-modern {
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 4px;
      width: 0%;
      transition: width 0.1s ease;
      position: relative;
    }
    .progress-fill-modern::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 12px;
      height: 100%;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      transform: translateX(50%);
    }
    /* Mobile responsive for audio player */
    @media (max-width: 480px) {
      .player-controls {
        gap: 10px;
      }
      .player-btn {
        padding: 10px 14px;
        font-size: 13px;
        min-width: 70px;
      }
      .progress-container {
        gap: 8px;
      }
      .time {
        font-size: 13px;
        min-width: 40px;
      }
    }
  /* Mobile First Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 0 12px;
        background-attachment: scroll;
      }
      .header {
        padding: 12px;
        width: 100%;
      }
      .controls-top {
        gap: 10px;
        margin-bottom: 15px;
      }
      .language-toggle, .theme-toggle {
        padding: 8px 12px;
        font-size: 13px;
      }
      .logo-icon {
        width: 65px;
        height: 65px;
        font-size: 30px;
      }
      .logo-text {
        font-size: 22px;
      }
      .card {
        padding: 25px 20px;
        margin-top: 10px;
        border-radius: 20px;
        max-width: 100%;
        width: calc(100% - 24px);
      }
      h1 {
        font-size: 24px;
        line-height: 1.3;
      }
      h2 {
        font-size: 19px;
        line-height: 1.4;
      }
      p {
        font-size: 16px;
        line-height: 1.7;
      }
      input {
        font-size: 16px;
        padding: 16px 18px;
        border-radius: 12px;
      }
      .btn {
        font-size: 16px;
        padding: 16px 20px;
        border-radius: 12px;
        min-height: 54px;
      }
      .back-btn {
        font-size: 14px;
        padding: 8px 16px;
        top: 15px;
        right: 15px;
      }
      .intro-sticker {
        font-size: 70px;
      }
      .level-section {
        padding: 18px;
        margin-bottom: 25px;
      }
    }
    @media (max-width: 480px) {
      body {
        padding: 0 8px;
      }
      .header {
        padding: 8px;
      }
      .controls-top {
        gap: 8px;
        margin-bottom: 12px;
      }
      .language-toggle, .theme-toggle {
        padding: 6px 10px;
        font-size: 12px;
      }
      .logo-icon {
        width: 60px;
        height: 60px;
        font-size: 28px;
      }
      .logo-text {
        font-size: 20px;
      }
      .card {
        padding: 20px 16px;
        margin-top: 8px;
        border-radius: 18px;
        width: calc(100% - 16px);
      }
      h1 {
        font-size: 22px;
        line-height: 1.3;
      }
      h2 {
        font-size: 18px;
        line-height: 1.4;
      }
      h2::before {
        left: -40px;
        font-size: 16px;
        z-index: 10;
      }
      [data-lang="en"] h2::before {
        left: -40px;
      }
      p {
        font-size: 15px;
        line-height: 1.6;
      }
      input {
        font-size: 16px;
        padding: 14px 16px;
        border-radius: 10px;
      }
      .btn {
        font-size: 15px;
        padding: 14px 18px;
        border-radius: 10px;
        min-height: 50px;
      }
      .back-btn {
        font-size: 13px;
        padding: 6px 14px;
        top: 12px;
        right: 12px;
      }
      .intro-sticker {
        font-size: 60px;
      }
      .level-section {
        padding: 16px;
        margin-bottom: 20px;
        border-radius: 16px;
      }
    }
    @media (max-width: 360px) {
      body {
        padding: 0 6px;
      }
      .card {
        padding: 18px 14px;
        width: calc(100% - 12px);
      }
      h1 {
        font-size: 20px;
      }
      h2 {
        font-size: 17px;
      }
      p {
        font-size: 14px;
      }
      .btn {
        font-size: 14px;
        padding: 12px 16px;
        min-height: 48px;
      }
      .intro-sticker {
        font-size: 55px;
      }
    }
    @media (hover: none) and (pointer: coarse) {
      .btn:hover {
        transform: none;
        box-shadow: 0 8px 25px rgba(0, 179, 173, 0.3);
      }
      .card:hover {
        transform: none;
      }
      .back-btn:hover {
        transform: none;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
      }
      .level-section:hover {
        transform: none;
        box-shadow: none;
      }
      .logo-icon:hover {
        transform: none;
        box-shadow: 0 10px 30px rgba(0, 179, 173, 0.4);
      }
      .intro-sticker:hover {
        transform: none;
        filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1));
      }
      .language-toggle:hover, .theme-toggle:hover {
        transform: none;
        box-shadow: 0 8px 25px rgba(0, 179, 173, 0.2);
      }
    }
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      .logo-icon, .btn, .card {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
    }
    @media (max-height: 500px) and (orientation: landscape) {
      .header {
        padding: 8px;
      }
      .card {
        padding: 20px;
        margin-top: 8px;
      }
      .intro-sticker {
        font-size: 50px;
        margin-bottom: 15px;
      }
      h1 {
        font-size: 20px;
        margin-bottom: 12px;
      }
      p {
        font-size: 14px;
        line-height: 1.5;
        margin-bottom: 12px;
      }
      .btn {
        padding: 12px 20px;
        margin-bottom: 15px;
      }
    }
    @supports (padding: max(0px)) {
      body {
        padding-left: max(8px, env(safe-area-inset-left));
        padding-right: max(8px, env(safe-area-inset-right));
        padding-top: max(0px, env(safe-area-inset-top));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
      }
    }
    /* Registration Page Styles */
    .class-option {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      border: 2px solid rgba(0, 179, 173, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 179, 173, 0.1);
    }
    .class-option:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      border-color: var(--primary);
    }
    .class-option.recommended {
      border: 2px solid var(--accent);
      background: linear-gradient(135deg, rgba(0, 212, 170, 0.05), rgba(0, 179, 173, 0.05));
    }
    .recommended-badge {
      position: absolute;
      top: -10px;
      right: 20px;
      background: linear-gradient(135deg, var(--accent), var(--success));
      color: white;
      padding: 8px 20px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);
      animation: pulse 2s infinite;
    }
    .class-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }
    .class-icon {
      font-size: 24px;
      margin-left: 15px;
    }
    .class-header h3 {
      font-size: 20px;
      font-weight: 700;
      color: var(--text);
      margin: 0;
      flex: 1;
    }
    .price-tag {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 8px 16px;
      border-radius: 15px;
      font-weight: 600;
      font-size: 14px;
      box-shadow: 0 4px 15px rgba(0, 179, 173, 0.3);
    }
    .benefits, .limitations {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin: 15px 0;
    }
    .benefit-item, .limitation-item {
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
    }
    .benefit-item {
      background: rgba(0, 200, 150, 0.1);
      color: var(--success);
      border: 1px solid rgba(0, 200, 150, 0.2);
    }
    .limitation-item {
      background: rgba(255, 87, 34, 0.1);
      color: var(--danger);
      border: 1px solid rgba(255, 87, 34, 0.2);
    }
    .class-select-btn {
      margin-top: 15px;
      margin-bottom: 0;
    }
    .btn-recommended {
      background: linear-gradient(135deg, var(--accent), var(--success));
      animation: pulse 2s infinite;
    }
    .btn-offline {
      background: linear-gradient(135deg, #6b7280, #4b5563);
    }
    .course-info {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 25px;
      margin-top: 30px;
      border: 2px solid rgba(0, 179, 173, 0.1);
    }
    .course-info h2 {
      text-align: center;
      margin-bottom: 25px;
      color: var(--primary);
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    .info-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px;
      background: rgba(0, 179, 173, 0.05);
      border-radius: 15px;
      border: 1px solid rgba(0, 179, 173, 0.1);
    }
    .info-icon {
      font-size: 24px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      color: white;
      flex-shrink: 0;
    }
    .info-content h4 {
      margin: 0 0 5px 0;
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
    }
    .info-content p {
      margin: 0;
      font-size: 14px;
      color: var(--text-light);
      line-height: 1.4;
    }
    /* Mobile responsive for registration */
    @media (max-width: 768px) {
      .class-option {
        padding: 20px;
        margin-bottom: 20px;
      }
      .class-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      .class-header h3 {
        font-size: 18px;
      }
      .benefits, .limitations {
        grid-template-columns: 1fr;
        gap: 8px;
      }
      .info-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      .info-item {
        padding: 12px;
      }
      .recommended-badge {
        right: 15px;
        font-size: 12px;
        padding: 6px 15px;
      }
    }
    /* Final Info Page Styles */
    .registration-steps {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      border: 2px solid rgba(0, 179, 173, 0.1);
    }
    .registration-steps h2 {
      text-align: center;
      margin-bottom: 25px;
      color: var(--primary);
    }
    .step-item {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 20px;
      margin-bottom: 15px;
      background: rgba(0, 179, 173, 0.05);
      border-radius: 15px;
      border: 1px solid rgba(0, 179, 173, 0.1);
      transition: all 0.3s ease;
    }
    .step-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 179, 173, 0.15);
    }
    .step-number {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      flex-shrink: 0;
    }
    .step-content h4 {
      margin: 0 0 5px 0;
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
    }
    .step-content p {
      margin: 0;
      font-size: 14px;
      color: var(--text-light);
    }
    .card-info {
      background: linear-gradient(135deg, rgba(0, 179, 173, 0.1), rgba(0, 212, 170, 0.1));
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      border: 2px solid var(--primary);
      text-align: center;
    }
    .card-info h2 {
      margin-bottom: 20px;
      color: var(--primary);
    }
    .card-number {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    .card-digits {
      font-size: 20px;
      font-weight: 700;
      color: var(--text);
      background: rgba(255, 255, 255, 0.9);
      padding: 12px 20px;
      border-radius: 15px;
      border: 2px solid var(--primary);
      letter-spacing: 2px;
      font-family: 'Courier New', monospace;
    }
    .copy-btn {
      background: linear-gradient(135deg, var(--accent), var(--success));
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);
    }
    .copy-btn:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(0, 212, 170, 0.4);
    }
    .card-owner {
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
      margin: 0;
    }
    .warnings-section {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 25px;
      border: 2px solid rgba(255, 193, 7, 0.3);
    }
    .warnings-section h2 {
      text-align: center;
      margin-bottom: 25px;
      color: #f57c00;
    }
    .warning-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 15px;
      border: 2px solid;
    }
    .warning-item.danger {
      background: rgba(255, 87, 34, 0.05);
      border-color: rgba(255, 87, 34, 0.2);
    }
    .warning-item.info {
      background: rgba(255, 193, 7, 0.05);
      border-color: rgba(255, 193, 7, 0.2);
    }
    .warning-icon {
      font-size: 20px;
      flex-shrink: 0;
      margin-top: 2px;
    }
    .warning-item p {
      margin: 0;
      font-size: 14px;
      line-height: 1.6;
      color: var(--text);
      font-weight: 500;
    }
    .contact-section {
      background: linear-gradient(135deg, rgba(0, 179, 173, 0.1), rgba(0, 212, 170, 0.1));
      border-radius: 20px;
      padding: 25px;
      text-align: center;
      border: 2px solid var(--primary);
    }
    .contact-section h2 {
      margin-bottom: 20px;
      color: var(--primary);
    }
    .btn-contact {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      animation: pulse 2s infinite;
      font-size: 16px;
      padding: 16px 30px;
    }
    @media (max-width: 768px) {
      .step-item {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      .card-number {
        flex-direction: column;
        gap: 10px;
      }
      .card-digits {
        font-size: 18px;
        padding: 10px 15px;
      }
      .warning-item {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }
    }
    @keyframes successPop {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
    /* پیام خطا فرم */
    .error-message {
      color: #ff4d4d;
      font-size: 0.9rem;
      margin-top: 10px;
      display: none;
      text-align: center;
      animation: shake 0.3s;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    /* هشدار VPN */
    .vpn-warning {
      margin: 25px 0;
      padding: 20px;
      background: rgba(255, 193, 7, 0.15);
      border-radius: 15px;
      border: 2px solid #ffc107;
      text-align: right;
      display: block;
    }
    .vpn-warning h4 {
      color: #d35400;
      margin: 0 0 10px 0;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .vpn-warning-text {
      color: var(--text);
      line-height: 1.6;
      margin: 0;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="controls-top">
      <div class="language-toggle" onclick="toggleLanguage()">
        <span id="langIcon">🌐</span>
        <span id="langText">EN</span>
      </div>
      <div class="theme-toggle" onclick="toggleTheme()">
        <span id="themeIcon">🌙</span>
      </div>
    </div>
    <div class="logo-top">
      <div class="logo-icon">Z</div>
      <div class="logo-text">Zilingooo</div>
    </div>
  </div>
  <!-- دکمه بازگشت -->
  <button class="back-btn" id="backBtn" onclick="goBack()">← <span data-key="back">بازگشت</span></button>
  <!-- فرم ثبت‌نام اولیه -->
  <section id="signup-form" class="card">
    <div class="container">
      <h2><span data-key="signup_title">ثبت‌نام اولیه</span></h2>
      <form id="registerForm">
        <div class="form-group">
          <label data-key="fullname_label">نام و نام خانوادگی</label>
          <input type="text" id="fullname" required>
        </div>
        <div class="form-group">
          <label data-key="telegram_label">آیدی تلگرام (اختیاری)</label>
          <input type="text" id="telegramId" placeholder="@username">
        </div>
        <div class="form-group">
          <label data-key="phone_label">شماره موبایل</label>
          <input type="tel" id="phone" required maxlength="11" pattern="09[0-9]{9}" placeholder="09xxxxxxxxx" data-placeholder-key="phone_placeholder">
        </div>
        <button type="submit" class="btn" data-key="submit_btn">ورود</button>
      </form>
      <p id="formError" class="error-message"></p>
      <!-- هشدار VPN -->
      <div class="vpn-warning">
        <h4>
          <span>📌</span>
          <span data-key="vpn_warning_title">توجه مهم:</span>
        </h4>
        <p class="vpn-warning-text" data-key="vpn_warning_text">
          برای ارسال موفقیت‌آمیز اطلاعات، لطفاً قبل از کلیک روی "ورود"، مطمئن شوید که به <strong>VPN یا فیلترشکن</strong> متصل هستید. بدون اتصال، اطلاعات شما ارسال نخواهد شد. 🙏
        </p>
      </div>
    </div>
  </section>
  <!-- صفحه اول -->
  <div class="card" id="intro" style="display:none;">
    <div class="intro-sticker">👩‍🎓</div>
    <h1 class="fade-in-title" id="introTitle" data-key="intro_title">سلام، من زینا هستم! ⭐</h1>
    <p class="fade-in-text" data-key="intro_text">
      اینجا جاییه که یادگیری زبان تبدیل می‌شه به یه تجربه شیرین، شخصی‌سازی‌شده و پر از انگیزه.  
      آماده‌ای؟ بیا با هم بدرخشیم! ✨
    </p>
    <button class="btn btn-start" onclick="showLanguagePage()" data-key="start_btn">شروع مسیر آموزشی 🚀</button>
  </div>
  <!-- صفحه انتخاب زبان -->
  <div class="card" id="language" style="display:none;">
    <h1 data-key="language_title">کدوم زبان رو می‌خوای یاد بگیری؟</h1>
    <button class="btn language-btn" onclick="selectLanguage('انگلیسی')" data-key="english_btn">زبان انگلیسی 🇬🇧</button>
    <button class="btn language-btn" onclick="selectLanguage('کره‌ای')" data-key="korean_btn">زبان کره‌ای 🇰🇷</button>
  </div>
  <!-- صفحه انتخاب سطح -->
  <div class="card" id="level" style="display:none;">
    <h1 data-key="level_title">قبل از شروع، مسیر یادگیری رو مشخص کن</h1>
    <div class="level-section">
      <h2 data-key="beginner_title">من مبتدی هستم</h2>
      <p data-key="beginner_text">اگر هیچ پیش‌زمینه‌ای نداری و می‌خوای از صفر شروع کنی، این مسیر برای تو طراحی شده. باهاش می‌تونی پایه‌ای‌ترین مفاهیم زبان رو یاد بگیری.</p>
      <button class="btn" onclick="selectLevel('beginner')" data-key="beginner_btn">شروع از صفر</button>
    </div>
    <div class="level-section">
      <h2 data-key="test_title">آزمون تعیین سطح</h2>
      <p data-key="test_text">اگر قبلاً زبان یاد گرفتی و می‌خوای بدونی سطح فعلی‌ات چیه، این مسیر برای تو طراحی شده.</p>
      <button class="btn" onclick="selectLevel('test')" data-key="test_btn">شرکت در آزمون تعیین سطح</button>
    </div>
  </div>
  <!-- صفحه دستورالعمل آزمون تعیین سطح -->
  <div class="card" id="test-instruction" style="display:none;">
    <h1 data-key="test_instruction_title">📝 آزمون تعیین سطح</h1>
    <p data-key="test_instruction_text">
      برای شرکت در آزمون تعیین سطح، لطفاً سوالات و فایل‌های آزمون تعیین سطح را از پشتیبانی درخواست نمایید.
    </p>
    <button class="btn btn-start" onclick="window.open('https://t.me/Zeynaisme', '_blank')" data-key="request_test_btn">
      درخواست آزمون تعیین سطح 📩
    </button>
  </div>
  <!-- صفحه جزئیات دوره -->
  <div class="card" id="course-details" style="display:none;">
    <div class="level-section">
      <h2 data-key="course_terms_title">📢 شرایط و توضیحات دوره</h2>
      <p data-key="course_terms_text">برای آشنایی کامل با دوره، لطفاً فایل صوتی زیر را گوش دهید:</p>
      <!-- Audio Player Modern -->
      <div class="audio-player-modern">
        <div class="audio-wrapper">
          <audio id="courseAudio" preload="metadata">
            <source src="https://archive.org/download/voice_20250917/voice.mp3" type="audio/mpeg">
            مرورگر شما از پخش صوت پشتیبانی نمی‌کند.
          </audio>
          <div class="player-controls">
            <button class="player-btn" id="rewindBtn" aria-label="Rewind 10 seconds">⏪ 10s</button>
            <button class="player-btn play-pause-btn" id="playPauseBtnModern" aria-label="Play/Pause">
              <span id="playIconModern">▶️</span>
            </button>
            <button class="player-btn" id="forwardBtn" aria-label="Forward 10 seconds">10s ⏩</button>
          </div>
          <div class="progress-container">
            <span class="time" id="currentTimeModern">0:00</span>
            <div class="progress-bar-modern" id="progressBarModern">
              <div class="progress-fill-modern" id="progressFillModern"></div>
            </div>
            <span class="time" id="totalTimeModern">0:00</span>
          </div>
        </div>
      </div>
    </div>
    <div class="level-section">
      <h2 data-key="faq_title">❓ سوالات متداول</h2>
      <p data-key="faq_text">پاسخ سوالات رایج در مورد دوره و نحوه یادگیری را مشاهده کنید.</p>
      <button class="btn" onclick="showFAQ()" data-key="faq_btn">مشاهده سوالات متداول</button>
    </div>
    <div class="level-section">
      <h2 data-key="final_registration_title">📝 ثبت‌نام نهایی</h2>
      <p data-key="final_registration_text">آماده شروع یادگیری هستید؟ با کلیک روی دکمه زیر، دوره خود را شروع کنید.</p>
      <button class="btn btn-start" onclick="finalRegistration()" data-key="final_registration_btn">ثبت نام و شروع دوره</button>
    </div>
  </div>
  <!-- صفحه سوالات متداول -->
  <div class="card" id="faq" style="display:none;">
    <h1 data-key="faq_page_title">سوالات متداول</h1>
    <div class="level-section">
      <h2 data-key="faq_q1">❓ در این دوره ما لهجه بریتیش رو یاد می‌گیریم یا آمریکن؟</h2>
      <p data-key="faq_a1">در دوره‌های ما، ما سعی می‌کنیم تا حد ممکن روی هر دو لهجه، یعنی امریکن و بریتیش کار کنیم. در دنیای امروز، انگلیسی فقط به یک لهجه محدود نمی‌شه. ممکنه با افرادی صحبت کنید که لهجه‌های مختلفی دارند، مثلاً لهجه هندی. به همین دلیل، ما به شما کمک می‌کنیم تا گوشتون به شنیدن لهجه‌های مختلف عادت کنه و انگلیسی واقعی رو یاد بگیرید. این رویکرد به شما این امکان رو می‌ده که با اعتماد به نفس بیشتری در مکالمات واقعی شرکت کنید و به تسلط بیشتری برسید.</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q2">❓ این دوره آموزشی چه مدت طول می‌کشه؟</h2>
      <p data-key="faq_a2">دوره‌های آموزشی زبان انگلیسی ما به مدت ۶ ماه طراحی شده‌اند. این دوره شامل ۴ ماه آموزش با زینا و ۲ ماه با رافائلا، مدرس نیتیو است. در این دوره، تمامی تنس‌های انگلیسی را یاد می‌گیرید و از ترم سوم به کلاس‌های مکالمه وارد می‌شوید. برای زبان کره‌ای، شما بین ۸ تا ۱۲ ماه برای توپیک ۱ و ۲ آماده خواهید شد. در این دوره، ۲۰۰۰ واژه و کتاب‌های مکمل 한국어 표준교재 برای تقویت مهارت‌های مکالمه تدریس می‌شود. با این حال، همه چیز به تلاش و انگیزه شما بستگی دارد.</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q3">❓ بعد از مشاهده این دوره آموزشی به چند ساعت مطالعه نیاز هست؟</h2>
      <p data-key="faq_a3">در مورد زمان مطالعه: یک ساعت مطالعه به‌علاوه حضور در کلاس، کافیه تا بتونی به‌خوبی درس‌ها رو یاد بگیری، به شرطی که تمرکز و انگیزه داشته باشی. البته، یادگیری هر کس متفاوته، ولی ما تلاش می‌کنیم که درس‌ها رو به شکلی ارائه بدیم که وقت زیادی ازت نگیره و همزمان تاثیر زیادی روی پیشرفتت داشته باشه!</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q4">❓ کلاس‌ها گروهی هستن یا خصوصی؟</h2>
      <p data-key="faq_a4">کلاس‌ها به‌صورت گروهی برگزار می‌شه و این یه مزیت عالیه! چون علاوه بر اینکه از درس‌ها یاد می‌گیری، می‌تونی با همکلاسی‌هات تعامل داشته باشی و از تجربه‌های همدیگه استفاده کنید.</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q5">❓ بهمون مدرک میدین؟</h2>
      <p data-key="faq_a5">در واقع هیچ معلم یا آموزشگاهی نمی‌تونه به‌طور مستقل و معتبر به شما مدرک بده. ممکنه یک گواهی کاغذی دریافت کنید، اما مهم‌ترین چیز اعتبار اون مدرکه؛ و برای اهدافی مثل ارائه به مراکز معتبر خارجی یا دانشگاه‌ها، لازمه که آزمون‌های رسمی مثل آیلتس، تافل یا دولینگو (برای انگلیسی) رو در نظر بگیرید. همچنین برای زبان کره‌ای باید در آزمون تاپیک شرکت کنید. البته مدتی هست که این آزمون در ایران برگزار نشده و زبان‌آموزها معمولاً در کشورهای همسایه امتحان می‌دن. برای اینکه در این آزمون‌ها موفق بشید، نیاز به تسلط روی مهارت‌های زبان دارید. بنابراین، ابتدا باید زبان عمومی و کاربردی‌تون رو قوی کنید و بعد برای این آزمون‌ها به‌صورت تخصصی تمرین کنید.</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q6">❓ آیا میتونم همزمان هر دو زبان یاد بگیرم؟</h2>
      <p data-key="faq_a6">ببینید، اگر قرار باشه هر دو زبان رو از سطح مبتدی شروع کنید، قطعا چالش سختی پیش رو خواهید داشت. اگه برنامه‌ریزی درستی نداشته باشید و مطالعه‌ی کافی نکنید، ممکنه تو مسیر یادگیری خسته بشید و از هر دو زبان زده بشید. نکته‌ی مهم اینه که یادگیری دو زبان جدید یعنی مواجهه با دو ساختار متفاوت، تلفظ‌های جدید، لغت‌های تازه و کلی قواعد جدید. اینا همه روی روند یادگیری تأثیر می‌ذارن. پس بهتره با دقت بیشتری تصمیم بگیرید. اما از طرف ما خیالتون راحت باشه! ما آموزش رو با بهترین کیفیت ارائه می‌دیم، ولی برای نتیجه گرفتن، شما هم باید مطالعه‌ی منظم داشته باشید. اگه آماده‌اید، ما کنار شما هستیم!</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q7">❓ تا کی مهلت ثبت نام هست؟</h2>
      <p data-key="faq_a7">مشخص نیست ترم بعدی شرایط ثبت‌نام چطور باشه، و اگه این ترم تعداد کافی زبان‌آموز نگیریم، شاید ترم بعد کلاسی باز نشه تا بتونیم بیشتر روی همین بچه‌های فعلی تمرکز کنیم. 🧐 پس اگه تصمیم داری کره‌ای یا انگلیسی رو حرفه‌ای یاد بگیری، این فرصت رو از دست نده! بیا جزو جمع ما شو و این ترم رو با هم شروع کنیم</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q8">❓ تو کلاسهاتون چیزی هم یاد میگیریم؟</h2>
      <p data-key="faq_a8">به عنوان یک مجموعه آموزشی، ما هیچ‌وقت کلاسی رو طراحی نمی‌کنیم که شما چیزی یاد نگیرید. اگر شما تلاش کنید و انگیزه داشته باشید، ما هم همواره سعی می‌کنیم که با ارائه بهترین محتوا و بهترین روش‌های آموزشی، به شما کمک کنیم که بیشترین بهره رو ببرید. هدف ما همیشه ارتقاء سطح یادگیری شماست و هرگز از هیچ تلاشی برای این کار کوتاهی نمی‌کنیم.</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q9">❓ تایم هر کلاس چقدره؟</h2>
      <p data-key="faq_a9">تایم هر کلاس هم یک ساعت هست، اما مطمئن باش که در همین مدت زمان مفید، تمام مطالب رو پوشش می‌دیم و بهترین بهره‌وری رو داری. اگر برنامه‌ات شلوغه یا نیاز به انعطاف داری، کلاس‌های نیمه آنلاین هم یه گزینه عالیه تا با زمان‌بندی خودت پیش بری!</p>
    </div>
    <div class="level-section">
      <h2 data-key="faq_q10">❓ آموزش ها رو چه پلتفرم هایی ارائه میشه؟</h2>
      <p data-key="faq_a10">آموزش ها به صورت آنلاین و آفلاین در نرم افزار تیمز ارائه میشود و پاسخ به سوالات و ادامه روند آموزش در تلگرام تقدیم حضور شما عزیزان خواهد شد</p>
    </div>
    <button class="btn" onclick="goBackToCourseDetails()" data-key="back_to_course">بازگشت به جزئیات دوره</button>
  </div>
  <!-- صفحه ثبت‌نام -->
  <div class="card" id="registration" style="display:none;">
    <div class="intro-sticker">🎯</div>
    <h1 data-key="registration_title">انتخاب نوع کلاس</h1>
    <p data-key="registration_subtitle">ما سه مدل خدمات آموزشی داریم که کیفیت همه یکسانه!</p>
    <!-- کلاس آنلاین -->
    <div class="class-option online-class">
      <div class="class-header">
        <div class="class-icon">🔴</div>
        <h3 data-key="online_class_title">کلاس آنلاین</h3>
        <div class="price-tag">۸۰۰ هزار تومان</div>
      </div>
      <p data-key="online_class_desc">شما سر ساعت مشخص در جلسات آنلاین شرکت می‌کنید، همراه با معلم و سایر دانش‌آموزها به‌طور زنده درس رو یاد می‌گیرید و همون لحظه سوالاتتون رو می‌پرسید. تمرین‌ها و تکالیف هم زمان‌بندی شده به شما ارائه می‌شه.</p>
      <button class="btn class-select-btn" onclick="selectClass('online')" data-key="select_online">انتخاب کلاس آنلاین</button>
    </div>
    <!-- کلاس نیمه آنلاین -->
    <div class="class-option semi-online-class recommended">
      <div class="recommended-badge">پیشنهاد ویژه</div>
      <div class="class-header">
        <div class="class-icon">🟡</div>
        <h3 data-key="semi_online_class_title">کلاس نیمه آنلاین</h3>
        <div class="price-tag">۷۸۰ هزار تومان</div>
      </div>
      <p data-key="semi_online_class_desc">شما تمام مطالب آموزشی و تمرین‌ها رو دریافت می‌کنید، اما نیازی نیست که سر ساعت مشخص در کلاس حاضر بشید. می‌تونید درس‌ها رو طبق زمان‌بندی خودتون انجام بدید و از طریق گروه‌های سوال و تمرین با سایر دانش‌آموزها و معلم در ارتباط باشید.</p>
      <div class="benefits">
        <div class="benefit-item">✅ انعطاف زمانی کامل</div>
        <div class="benefit-item">✅ گروه پرسش و پاسخ</div>
        <div class="benefit-item">✅ بررسی تکالیف</div>
        <div class="benefit-item">✅ تعامل با همکلاسی‌ها</div>
      </div>
      <button class="btn class-select-btn btn-recommended" onclick="selectClass('semi-online')" data-key="select_semi_online">انتخاب کلاس نیمه آنلاین</button>
    </div>
    <!-- کلاس آفلاین -->
    <div class="class-option offline-class">
      <div class="class-header">
        <div class="class-icon">⚫</div>
        <h3 data-key="offline_class_title">کلاس آفلاین</h3>
        <div class="price-tag">۷۵۰ هزار تومان</div>
      </div>
      <p data-key="offline_class_desc">اگر دوره آفلاین را انتخاب کنید، تنها آموزش‌ها را دریافت می‌کنید و از امکانات ارزشمندی محروم می‌شوید:</p>
      <div class="limitations">
        <div class="limitation-item">❌ گروه پرسش و پاسخ</div>
        <div class="limitation-item">❌ گروه بررسی تکالیف</div>
        <div class="limitation-item">❌ تعامل با همکلاسی‌ها</div>
      </div>
      <button class="btn class-select-btn btn-offline" onclick="selectClass('offline')" data-key="select_offline">انتخاب کلاس آفلاین</button>
    </div>
    <!-- اطلاعات دوره -->
    <div class="course-info">
      <h2 data-key="course_info_title">📚 اطلاعات دوره سطح ۱</h2>
      <div class="info-grid">
        <div class="info-item">
          <div class="info-icon">⏱️</div>
          <div class="info-content">
            <h4 data-key="duration_title">مدت زمان</h4>
            <p data-key="duration_desc">یک ماه (۸ جلسه)</p>
          </div>
        </div>
        <div class="info-item">
          <div class="info-icon">💻</div>
          <div class="info-content">
            <h4 data-key="platform_title">پلتفرم</h4>
            <p data-key="platform_desc">Microsoft Teams</p>
          </div>
        </div>
        <div class="info-item">
          <div class="info-icon">📖</div>
          <div class="info-content">
            <h4 data-key="materials_title">منابع آموزشی</h4>
            <p data-key="materials_desc">Grammar in Use + Essential Vocabularies + منابع مکمل</p>
          </div>
        </div>
        <div class="info-item">
          <div class="info-icon">🎵</div>
          <div class="info-content">
            <h4 data-key="extras_title">امکانات اضافی</h4>
            <p data-key="extras_desc">آهنگ + پادکست + PDF رایگان</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- صفحه اطلاعات ثبت‌نام نهایی -->
  <div class="card" id="final-info" style="display:none;">
    <div class="intro-sticker">📋</div>
    <h1 data-key="final_info_title">اطلاعات ثبت‌نام</h1>
    <!-- مراحل ثبت‌نام -->
    <div class="registration-steps">
      <h2 data-key="registration_steps_title">📝 برای ثبت‌نام در کلاس‌های ما فقط کافیه که:</h2>
      <div class="step-item">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4 data-key="step1_title">اسم و فامیل</h4>
          <p data-key="step1_desc">نام کامل خود را ارسال کنید</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4 data-key="step2_title">هدف شما از شرکت در کلاس‌ها</h4>
          <p data-key="step2_desc">دلیل یادگیری زبان خود را بیان کنید</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4 data-key="step3_title">فیش واریزی</h4>
          <p data-key="step3_desc">رسید پرداخت شهریه را ارسال کنید</p>
        </div>
      </div>
    </div>
    <!-- شماره کارت -->
    <div class="card-info">
      <h2 data-key="card_info_title">💳 شماره کارت</h2>
      <div class="card-number">
        <span class="card-digits">۶۱۰۴-۳۳۸۸-۰۰۹۰-۸۲۸۳</span>
        <button class="copy-btn" onclick="copyCardNumber()" data-key="copy_card">کپی</button>
      </div>
      <p class="card-owner" data-key="card_owner">به نام: توسن منطقه آزاد (این یک حساب تجاری میباشد)</p>
    </div>
    <!-- هشدارها -->
    <div class="warnings-section">
      <h2 data-key="warnings_title">⚠️ لطفاً قبل از ثبت‌نام به این موارد توجه بفرمایید</h2>
      <div class="warning-item danger">
        <div class="warning-icon">❌</div>
        <p data-key="warning1">در جریان باشید که بعد از ثبت‌نام و واریز مبلغ شهریه، تحت هیچ عنوانی هزینه کلاس عودت داده نمیشه حتی اگر در کلاس ها شرکت نکرده باشید پس لطفا تمام موارد را با دقت مطالعه نمایید و سپس تصمیم نهایی را بگیرید</p>
      </div>
      <div class="warning-item danger">
        <div class="warning-icon">❌</div>
        <p data-key="warning2">در صورت رعایت نکردن موارد ارسالی، عدم ثبت فیش به عهده خودتون هست</p>
      </div>
      <div class="warning-item danger">
        <div class="warning-icon">❌</div>
        <p data-key="warning3">در صورت ارسال فیش تقلبی، دسترسی شما برای همیشه از خدمات ما قطع خواهد شد</p>
      </div>
      <div class="warning-item info">
        <div class="warning-icon">❗</div>
        <p data-key="warning4">برای شرکت در سطح یک انگلیسی، حتماً باید الفبا و مقدار کمی از دانش زبان انگلیسی لازمه</p>
      </div>
    </div>
    <!-- دکمه تماس -->
    <div class="contact-section">
      <h2 data-key="contact_title">📌 جهت ثبت نام نهایی اطلاعات و فیش واریزی را به آیدی تلگرام پشتیبان ارسال نمایید</h2>
      <button class="btn btn-contact" onclick="contactSupport()" data-key="contact_btn">تماس با پشتیبانی</button>
    </div>
  </div>
<script>
    // Translation object
    const translations = {
      fa: {
        back: "بازگشت",
        signup_title: "ثبت‌نام اولیه",
        fullname_label: "نام و نام خانوادگی",
        telegram_label: "آیدی تلگرام (اختیاری)",
        phone_label: "شماره موبایل",
        phone_placeholder: "09xxxxxxxxx",
        phone_hint: "شماره باید با 09 شروع شود و 11 رقم باشد.",
        submit_btn: "ورود",
        intro_title: "سلام، من زینا هستم! ⭐",
        intro_text: "اینجا جاییه که یادگیری زبان تبدیل می‌شه به یه تجربه شیرین، شخصی‌سازی‌شده و پر از انگیزه. فقط کافیه اسم قشنگت رو بهم بگی تا با هم یه مسیر جذاب رو شروع کنیم. آماده‌ای؟ بیا با هم بدرخشیم! ✨",
        start_btn: "شروع مسیر آموزشی 🚀",
        language_title: "کدوم زبان رو می‌خوای یاد بگیری؟",
        english_btn: "زبان انگلیسی 🇬🇧",
        korean_btn: "زبان کره‌ای 🇰🇷",
        level_title: "قبل از شروع، مسیر یادگیری رو مشخص کن",
        beginner_title: "من مبتدی هستم",
        beginner_text: "اگر هیچ پیش‌زمینه‌ای نداری و می‌خوای از صفر شروع کنی، این مسیر برای تو طراحی شده. باهاش می‌تونی پایه‌ای‌ترین مفاهیم زبان رو یاد بگیری.",
        beginner_btn: "شروع از صفر",
        test_title: "آزمون تعیین سطح",
        test_text: "اگر قبلاً زبان یاد گرفتی و می‌خوای بدونی سطح فعلی‌ات چیه، این مسیر برای تو طراحی شده.",
        test_btn: "شرکت در آزمون تعیین سطح",
        greeting_welcome: "عزیز، خوش اومدی! 🤚",
        beginner_success: "مسیر آموزش مبتدی برای شما فعال شد 🌱",
        test_success: "آزمون تعیین سطح برای شما آماده می‌شه 🧠",
        course_terms_title: "📢 شرایط و توضیحات دوره",
        course_terms_text: "برای آشنایی کامل با دوره، لطفاً فایل صوتی زیر را گوش دهید:",
        faq_title: "❓ سوالات متداول",
        faq_text: "پاسخ سوالات رایج در مورد دوره و نحوه یادگیری را مشاهده کنید.",
        faq_btn: "مشاهده سوالات متداول",
        final_registration_title: "📝 ثبت‌نام نهایی",
        final_registration_text: "آماده شروع یادگیری هستید؟ با کلیک روی دکمه زیر، دوره خود را شروع کنید.",
        final_registration_btn: "ثبت نام و شروع دوره",
        faq_page_title: "سوالات متداول",
        faq_q1: "❓ در این دوره ما لهجه بریتیش رو یاد می‌گیریم یا آمریکن؟",
        faq_a1: "در دوره‌های ما، ما سعی می‌کنیم تا حد ممکن روی هر دو لهجه، یعنی امریکن و بریتیش کار کنیم. در دنیای امروز، انگلیسی فقط به یک لهجه محدود نمی‌شه. ممکنه با افرادی صحبت کنید که لهجه‌های مختلفی دارند، مثلاً لهجه هندی. به همین دلیل، ما به شما کمک می‌کنیم تا گوشتون به شنیدن لهجه‌های مختلف عادت کنه و انگلیسی واقعی رو یاد بگیرید. این رویکرد به شما این امکان رو می‌ده که با اعتماد به نفس بیشتری در مکالمات واقعی شرکت کنید و به تسلط بیشتری برسید.",
        faq_q2: "❓ این دوره آموزشی چه مدت طول می‌کشه؟",
        faq_a2: "دوره‌های آموزشی زبان انگلیسی ما به مدت ۶ ماه طراحی شده‌اند. این دوره شامل ۴ ماه آموزش با زینا و ۲ ماه با رافائلا، مدرس نیتیو است. در این دوره، تمامی تنس‌های انگلیسی را یاد می‌گیرید و از ترم سوم به کلاس‌های مکالمه وارد می‌شوید. برای زبان کره‌ای، شما بین ۸ تا ۱۲ ماه برای توپیک ۱ و ۲ آماده خواهید شد. در این دوره، ۲۰۰۰ واژه و کتاب‌های مکمل 한국어 표준교재 برای تقویت مهارت‌های مکالمه تدریس می‌شود. با این حال، همه چیز به تلاش و انگیزه شما بستگی دارد.",
        faq_q3: "❓ بعد از مشاهده این دوره آموزشی به چند ساعت مطالعه نیاز هست؟",
        faq_a3: "در مورد زمان مطالعه: یک ساعت مطالعه به‌علاوه حضور در کلاس، کافیه تا بتونی به‌خوبی درس‌ها رو یاد بگیری، به شرطی که تمرکز و انگیزه داشته باشی. البته، یادگیری هر کس متفاوته، ولی ما تلاش می‌کنیم که درس‌ها رو به شکلی ارائه بدیم که وقت زیادی ازت نگیره و همزمان تاثیر زیادی روی پیشرفتت داشته باشه!",
        faq_q4: "❓ کلاس‌ها گروهی هستن یا خصوصی؟",
        faq_a4: "کلاس‌ها به‌صورت گروهی برگزار می‌شه و این یه مزیت عالیه! چون علاوه بر اینکه از درس‌ها یاد می‌گیری، می‌تونی با همکلاسی‌هات تعامل داشته باشی و از تجربه‌های همدیگه استفاده کنید.",
        faq_q5: "❓ بهمون مدرک میدین؟",
        faq_a5: "در واقع هیچ معلم یا آموزشگاهی نمی‌تونه به‌طور مستقل و معتبر به شما مدرک بده. ممکنه یک گواهی کاغذی دریافت کنید، اما مهم‌ترین چیز اعتبار اون مدرکه؛ و برای اهدافی مثل ارائه به مراکز معتبر خارجی یا دانشگاه‌ها، لازمه که آزمون‌های رسمی مثل آیلتس، تافل یا دولینگو (برای انگلیسی) رو در نظر بگیرید. همچنین برای زبان کره‌ای باید در آزمون تاپیک شرکت کنید. البته مدتی هست که این آزمون در ایران برگزار نشده و زبان‌آموزها معمولاً در کشورهای همسایه امتحان می‌دن. برای اینکه در این آزمون‌ها موفق بشید، نیاز به تسلط روی مهارت‌های زبان دارید. بنابراین، ابتدا باید زبان عمومی و کاربردی‌تون رو قوی کنید و بعد برای این آزمون‌ها به‌صورت تخصصی تمرین کنید.",
        faq_q6: "❓ آیا میتونم همزمان هر دو زبان یاد بگیرم؟",
        faq_a6: "ببینید، اگر قرار باشه هر دو زبان رو از سطح مبتدی شروع کنید، قطعا چالش سختی پیش رو خواهید داشت. اگه برنامه‌ریزی درستی نداشته باشید و مطالعه‌ی کافی نکنید، ممکنه تو مسیر یادگیری خسته بشید و از هر دو زبان زده بشید. نکته‌ی مهم اینه که یادگیری دو زبان جدید یعنی مواجهه با دو ساختار متفاوت، تلفظ‌های جدید، لغت‌های تازه و کلی قواعد جدید. اینا همه روی روند یادگیری تأثیر می‌ذارن. پس بهتره با دقت بیشتری تصمیم بگیرید. اما از طرف ما خیالتون راحت باشه! ما آموزش رو با بهترین کیفیت ارائه می‌دیم، ولی برای نتیجه گرفتن، شما هم باید مطالعه‌ی منظم داشته باشید. اگه آماده‌اید، ما کنار شما هستیم!",
        faq_q7: "❓ تا کی مهلت ثبت نام هست؟",
        faq_a7: "مشخص نیست ترم بعدی شرایط ثبت‌نام چطور باشه، و اگه این ترم تعداد کافی زبان‌آموز نگیریم، شاید ترم بعد کلاسی باز نشه تا بتونیم بیشتر روی همین بچه‌های فعلی تمرکز کنیم. 🧐 پس اگه تصمیم داری کره‌ای یا انگلیسی رو حرفه‌ای یاد بگیری، این فرصت رو از دست نده! بیا جزو جمع ما شو و این ترم رو با هم شروع کنیم",
        faq_q8: "❓ تو کلاسهاتون چیزی هم یاد میگیریم؟",
        faq_a8: "به عنوان یک مجموعه آموزشی، ما هیچ‌وقت کلاسی رو طراحی نمی‌کنیم که شما چیزی یاد نگیرید. اگر شما تلاش کنید و انگیزه داشته باشید، ما هم همواره سعی می‌کنیم که با ارائه بهترین محتوا و بهترین روش‌های آموزشی، به شما کمک کنیم که بیشترین بهره رو ببرید. هدف ما همیشه ارتقاء سطح یادگیری شماست و هرگز از هیچ تلاشی برای این کار کوتاهی نمی‌کنیم.",
        faq_q9: "❓ تایم هر کلاس چقدره؟",
        faq_a9: "تایم هر کلاس هم یک ساعت هست، اما مطمئن باش که در همین مدت زمان مفید، تمام مطالب رو پوشش می‌دیم و بهترین بهره‌وری رو داری. اگر برنامه‌ات شلوغه یا نیاز به انعطاف داری، کلاس‌های نیمه آنلاین هم یه گزینه عالیه تا با زمان‌بندی خودت پیش بری!",
        faq_q10: "❓ آموزش ها رو چه پلتفرم هایی ارائه میشه؟",
        faq_a10: "آموزش ها به صورت آنلاین و آفلاین در نرم افزار تیمز ارائه میشود و پاسخ به سوالات و ادامه روند آموزش در تلگرام تقدیم حضور شما عزیزان خواهد شد",
        back_to_course: "بازگشت به جزئیات دوره",
        // Registration page translations
        registration_title: "انتخاب نوع کلاس",
        registration_subtitle: "ما سه مدل خدمات آموزشی داریم که کیفیت همه یکسانه!",
        online_class_title: "کلاس آنلاین",
        online_class_desc: "شما سر ساعت مشخص در جلسات آنلاین شرکت می‌کنید، همراه با معلم و سایر دانش‌آموزها به‌طور زنده درس رو یاد می‌گیرید و همون لحظه سوالاتتون رو می‌پرسید. تمرین‌ها و تکالیف هم زمان‌بندی شده به شما ارائه می‌شه.",
        select_online: "انتخاب کلاس آنلاین",
        semi_online_class_title: "کلاس نیمه آنلاین",
        semi_online_class_desc: "شما تمام مطالب آموزشی و تمرین‌ها رو دریافت می‌کنید، اما نیازی نیست که سر ساعت مشخص در کلاس حاضر بشید. می‌تونید درس‌ها رو طبق زمان‌بندی خودتون انجام بدید و از طریق گروه‌های سوال و تمرین با سایر دانش‌آموزها و معلم در ارتباط باشید.",
        select_semi_online: "انتخاب کلاس نیمه آنلاین",
        offline_class_title: "کلاس آفلاین",
        offline_class_desc: "اگر دوره آفلاین را انتخاب کنید، تنها آموزش‌ها را دریافت می‌کنید و از امکانات ارزشمندی محروم می‌شوید:",
        select_offline: "انتخاب کلاس آفلاین",
        course_info_title: "📚 اطلاعات دوره سطح ۱",
        duration_title: "مدت زمان",
        duration_desc: "یک ماه (۸ جلسه)",
        platform_title: "پلتفرم",
        platform_desc: "Microsoft Teams",
        materials_title: "منابع آموزشی",
        materials_desc: "Grammar in Use + Essential Vocabularies + منابع مکمل",
        extras_title: "امکانات اضافی",
        extras_desc: "آهنگ + پادکست + PDF رایگان",
        // Final info page translations
        final_info_title: "اطلاعات ثبت‌نام",
        registration_steps_title: "📝 برای ثبت‌نام در کلاس‌های ما فقط کافیه که:",
        step1_title: "اسم و فامیل",
        step1_desc: "نام کامل خود را ارسال کنید",
        step2_title: "هدف شما از شرکت در کلاس‌ها",
        step2_desc: "دلیل یادگیری زبان خود را بیان کنید",
        step3_title: "فیش واریزی",
        step3_desc: "رسید پرداخت شهریه را ارسال کنید",
        card_info_title: "💳 شماره کارت",
        copy_card: "کپی",
        card_owner: "به نام: توسن منطقه آزاد (این یک حساب تجاری میباشد)",
        warnings_title: "⚠️ لطفاً قبل از ثبت‌نام به این موارد توجه بفرمایید",
        warning1: "در جریان باشید که بعد از ثبت‌نام و واریز مبلغ شهریه، تحت هیچ عنوانی هزینه کلاس عودت داده نمیشه حتی اگر در کلاس ها شرکت نکرده باشید پس لطفا تمام موارد را با دقت مطالعه نمایید و سپس تصمیم نهایی را بگیرید",
        warning2: "در صورت رعایت نکردن موارد ارسالی، عدم ثبت فیش به عهده خودتون هست",
        warning3: "در صورت ارسال فیش تقلبی، دسترسی شما برای همیشه از خدمات ما قطع خواهد شد",
        warning4: "برای شرکت در سطح یک انگلیسی، حتماً باید الفبا و مقدار کمی از دانش زبان انگلیسی لازمه",
        contact_title: "📌 جهت ثبت نام نهایی اطلاعات و فیش واریزی را به آیدی تلگرام پشتیبان ارسال نمایید",
        contact_btn: "تماس با پشتیبانی",
        // Test instruction page
        test_instruction_title: "📝 آزمون تعیین سطح",
        test_instruction_text: "برای شرکت در آزمون تعیین سطح، لطفاً سوالات و فایل‌های آزمون تعیین سطح را از پشتیبانی درخواست نمایید.",
        request_test_btn: "درخواست آزمون تعیین سطح 📩",
        // 🔥 ترجمه‌های جدید برای هشدار VPN
        vpn_warning_title: "توجه مهم:",
        vpn_warning_text: "برای ارسال موفقیت‌آمیز اطلاعات، لطفاً قبل از کلیک روی \"ورود\"، مطمئن شوید که به <strong>VPN یا فیلترشکن</strong> متصل هستید. بدون اتصال، اطلاعات شما ارسال نخواهد شد. 🙏"
      },
      en: {
        back: "Back",
        signup_title: "Initial Registration",
        fullname_label: "Full Name",
        telegram_label: "Telegram ID (Optional)",
        phone_label: "Phone Number",
        phone_placeholder: "09xxxxxxxxx",
        phone_hint: "Number must start with 09 and be 11 digits.",
        submit_btn: "Submit",
        intro_title: "Hello, I'm Zina! ⭐",
        intro_text: "This is where language learning becomes a sweet, personalized and motivating experience. Just tell me your beautiful name so we can start an exciting journey together. Ready? Let's shine together! ✨",
        start_btn: "Start Learning Journey 🚀",
        language_title: "Which language do you want to learn?",
        english_btn: "English Language 🇬🇧",
        korean_btn: "Korean Language 🇰🇷",
        level_title: "Before starting, determine your learning path",
        beginner_title: "I'm a beginner",
        beginner_text: "If you have no background and want to start from scratch, this path is designed for you. With it, you can learn the most basic language concepts.",
        beginner_btn: "Start from Zero",
        test_title: "Level Assessment Test",
        test_text: "If you've learned the language before and want to know your current level, this path is designed for you.",
        greeting_welcome: ", welcome! 🤚",
        beginner_success: "Beginner learning path activated for you 🌱",
        test_success: "Level assessment test is being prepared for you 🧠",
        course_terms_title: "📢 Course Terms & Conditions",
        course_terms_text: "For complete familiarity with the course, please listen to the audio file below:",
        faq_title: "❓ Frequently Asked Questions",
        faq_text: "View answers to common questions about the course and learning methods.",
        faq_btn: "View FAQ",
        final_registration_title: "📝 Final Registration",
        final_registration_text: "Ready to start learning? Click the button below to start your course.",
        final_registration_btn: "Register & Start Course",
        faq_page_title: "Frequently Asked Questions",
        faq_q1: "❓ Do we learn British or American accent in this course?",
        faq_a1: "In our courses, we try to work on both accents, American and British, as much as possible. In today's world, English is not limited to just one accent. You might talk to people with different accents, like Indian accent. That's why we help you get used to hearing different accents and learn real English. This approach allows you to participate in real conversations with more confidence and achieve greater mastery.",
        faq_q2: "❓ How long does this course take?",
        faq_a2: "Our English language courses are designed for 6 months. This course includes 4 months of training with Zina and 2 months with Rafaela, a native instructor. In this course, you will learn all English tenses and enter conversation classes from the third term. For Korean language, you will be ready for TOPIK 1 and 2 between 8 to 12 months. In this course, 2000 words and complementary books 한국어 표준교재 are taught to strengthen conversation skills. However, everything depends on your effort and motivation.",
        faq_q3: "❓ How many hours of study are needed after watching this course?",
        faq_a3: "Regarding study time: one hour of study plus class attendance is enough for you to learn the lessons well, provided you have focus and motivation. Of course, everyone's learning is different, but we try to present the lessons in a way that doesn't take much of your time and at the same time has a great impact on your progress!",
        faq_q4: "❓ Are classes group or private?",
        faq_a4: "Classes are held in groups and this is a great advantage! Because in addition to learning from the lessons, you can interact with your classmates and use each other's experiences.",
        faq_q5: "❓ Do you give us a certificate?",
        faq_a5: "Actually, no teacher or educational institution can independently and credibly give you a certificate. You might receive a paper certificate, but the most important thing is the credibility of that certificate; and for purposes like presenting to credible foreign centers or universities, you need to consider official exams like IELTS, TOEFL or Duolingo (for English). Also for Korean language, you must take the TOPIK exam. Of course, it's been a while since this exam has been held in Iran and language learners usually take the exam in neighboring countries. To succeed in these exams, you need to master language skills. Therefore, you must first strengthen your general and practical language and then practice specifically for these exams.",
        faq_q6: "❓ Can I learn both languages simultaneously?",
        faq_a6: "Look, if you're going to start both languages from beginner level, you'll definitely face a tough challenge. If you don't have proper planning and don't study enough, you might get tired in the learning path and get overwhelmed by both languages. The important point is that learning two new languages means facing two different structures, new pronunciations, fresh vocabulary and lots of new rules. All of these affect the learning process. So it's better to decide more carefully. But rest assured from our side! We provide training with the best quality, but to get results, you also need to have regular study. If you're ready, we're with you!",
        faq_q7: "❓ What's the registration deadline?",
        faq_a7: "It's not clear what the registration conditions will be for the next term, and if we don't get enough language learners this term, maybe no class will open next term so we can focus more on the current students. 🧐 So if you've decided to learn Korean or English professionally, don't miss this opportunity! Come join us and let's start this term together",
        faq_q8: "❓ Do we actually learn anything in your classes?",
        faq_a8: "As an educational institution, we never design a class where you don't learn anything. If you make an effort and have motivation, we always try to help you get the most benefit by providing the best content and the best teaching methods. Our goal is always to improve your learning level and we never fall short of any effort for this.",
        faq_q9: "❓ How long is each class?",
        faq_a9: "Each class is one hour, but rest assured that in this useful time, we cover all the materials and you get the best efficiency. If your schedule is busy or you need flexibility, semi-online classes are also a great option to move forward with your own timing!",
        faq_q10: "❓ On which platforms are the courses offered?",
        faq_a10: "The courses are offered online and offline through Microsoft Teams software, and answering questions and continuing the educational process will be provided to you dear ones through Telegram",
        back_to_course: "Back to Course Details",
        // Registration page translations
        registration_title: "Choose Class Type",
        registration_subtitle: "We have three educational service models with the same quality!",
        online_class_title: "Online Class",
        online_class_desc: "You attend online sessions at specific times, learn live with the teacher and other students, and ask your questions immediately. Exercises and assignments are also provided to you on a scheduled basis.",
        select_online: "Select Online Class",
        semi_online_class_title: "Semi-Online Class",
        semi_online_class_desc: "You receive all educational materials and exercises, but you don't need to attend class at specific times. You can do the lessons according to your own schedule and communicate with other students and the teacher through question and exercise groups.",
        select_semi_online: "Select Semi-Online Class",
        offline_class_title: "Offline Class",
        offline_class_desc: "If you choose the offline course, you will only receive the training and will be deprived of valuable facilities:",
        select_offline: "Select Offline Class",
        course_info_title: "📚 Level 1 Course Information",
        duration_title: "Duration",
        duration_desc: "One month (8 sessions)",
        platform_title: "Platform",
        platform_desc: "Microsoft Teams",
        materials_title: "Educational Materials",
        materials_desc: "Grammar in Use + Essential Vocabularies + Supplementary Resources",
        extras_title: "Additional Features",
        extras_desc: "Songs + Podcasts + Free PDFs",
        // Final info page translations
        final_info_title: "Registration Information",
        registration_steps_title: "📝 To register for our classes, you just need to:",
        step1_title: "Name and Surname",
        step1_desc: "Send your full name",
        step2_title: "Your goal for attending classes",
        step2_desc: "State your reason for learning the language",
        step3_title: "Payment Receipt",
        step3_desc: "Send the tuition payment receipt",
        card_info_title: "💳 Card Number",
        copy_card: "Copy",
        card_owner: "Account Holder: Tousan Free Zone (This is a business account)",
        warnings_title: "⚠️ Please pay attention to these points before registration",
        warning1: "Be aware that after registration and payment of tuition, class fees will not be refunded",
        warning2: "If you don't follow the submission requirements, failure to register the receipt is your responsibility",
        warning3: "In case of sending a fake receipt, your access to our services will be permanently cut off",
        warning4: "To participate in English level one, you must know the alphabet and have some basic English knowledge",
        contact_title: "📌 For final registration, send your information and payment receipt to the support Telegram ID",
        contact_btn: "Contact Support",
        // Test instruction page
        test_instruction_title: "📝 Level Test",
        test_instruction_text: "To take the level test, please request the test questions and files from support.",
        request_test_btn: "Request Level Test 📩",
        // 🔥 ترجمه‌های جدید برای هشدار VPN — انگلیسی (اختیاری)
        vpn_warning_title: "Note:",
        vpn_warning_text: "To ensure successful submission, please make sure you're connected to a <strong>VPN or proxy</strong>. Your data won’t be sent without it."
      }
    };
    let currentLang = 'fa';
    let currentTheme = 'light';
    let isTransitioning = false;
    // Mouse tracking for interactive background
    document.addEventListener('mousemove', (e) => {
      const x = (e.clientX / window.innerWidth) * 100;
      const y = (e.clientY / window.innerHeight) * 100;
      document.documentElement.style.setProperty('--mouse-x', x + '%');
      document.documentElement.style.setProperty('--mouse-y', y + '%');
    });
    function applySavedNameToIntro() {
      const savedName = localStorage.getItem('zizi_fullname');
      const introTitle = document.getElementById('introTitle');
      if (savedName && introTitle) {
        introTitle.textContent = currentLang === 'fa'
          ? `سلام ${savedName}، من زینا هستم! ⭐`
          : `Hello ${savedName}, I'm Zina! ⭐`;
      }
    }
    // Language toggle function
    function toggleLanguage() {
      currentLang = currentLang === 'fa' ? 'en' : 'fa';
      document.documentElement.setAttribute('data-lang', currentLang);
      document.documentElement.setAttribute('dir', currentLang === 'fa' ? 'rtl' : 'ltr');
      document.documentElement.setAttribute('lang', currentLang);
      document.getElementById('langText').textContent = currentLang === 'fa' ? 'EN' : 'فا';
      updateTranslations();
      const langToggle = document.querySelector('.language-toggle');
      langToggle.style.transform = 'scale(0.9)';
      setTimeout(() => {
        langToggle.style.transform = 'scale(1)';
      }, 150);
    }
    // Theme toggle function
    function toggleTheme() {
      currentTheme = currentTheme === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', currentTheme);
      document.getElementById('themeIcon').textContent = currentTheme === 'light' ? '🌙' : '☀️';
      const themeToggle = document.querySelector('.theme-toggle');
      themeToggle.style.transform = 'rotate(180deg) scale(0.9)';
      setTimeout(() => {
        themeToggle.style.transform = 'rotate(0deg) scale(1)';
      }, 300);
    }
    // Update translations
    function updateTranslations() {
      const elements = document.querySelectorAll('[data-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[currentLang][key]) {
          // 🔥 اصلاح: استفاده از innerHTML فقط برای المان‌های vpn-warning-text
          if (element.classList.contains('vpn-warning-text')) {
            element.innerHTML = translations[currentLang][key];
          } else {
            element.textContent = translations[currentLang][key];
          }
        }
      });
      const placeholderElements = document.querySelectorAll('[data-placeholder-key]');
      placeholderElements.forEach(element => {
        const key = element.getAttribute('data-placeholder-key');
        if (translations[currentLang][key]) {
          element.placeholder = translations[currentLang][key];
        }
      });
      applySavedNameToIntro();
    }
    // Enhanced page transitions
    function showPage(hideId, showId, callback) {
      if (isTransitioning) return;
      isTransitioning = true;
      const hideElement = document.getElementById(hideId);
      const showElement = document.getElementById(showId);
      const backBtn = document.getElementById("backBtn");
      if (showId === 'signup-form') {
        backBtn.style.display = 'none';
      } else {
        backBtn.style.display = 'inline-block';
      }
      hideElement?.classList.remove('page-enter', 'page-exit');
      showElement?.classList.remove('page-enter', 'page-exit');
      if (hideElement) {
        hideElement.classList.add('page-exit');
      }
      setTimeout(() => {
        if (hideElement) {
          hideElement.style.display = 'none';
          hideElement.classList.remove('page-exit');
        }
        if (showElement) {
          showElement.style.display = 'block';
          showElement.classList.add('page-enter');
          setTimeout(() => {
            showElement.classList.remove('page-enter');
          }, 600);
        }
        if (callback) callback();
        setTimeout(() => {
          isTransitioning = false;
        }, 700);
      }, 300);
    }
    window.onload = () => {
      if (document.getElementById("signup-form").style.display !== "none") {
        document.getElementById("backBtn").style.display = "none";
      } else {
        document.getElementById("backBtn").style.display = "inline-block";
      }
      updateTranslations();
      if ('ontouchstart' in window) {
        document.body.classList.add('touch-device');
      }
    };
    // Flow
    function showLanguagePage() {
      showPage('intro', 'language');
    }
    function selectLanguage(language) {
      showPage('language', 'level', () => {
        const levelTitle = document.querySelector('#level h1');
        if (language === 'انگلیسی' || language === 'English') {
          levelTitle.style.background = 'linear-gradient(135deg, #1e40af, #3b82f6)';
        } else {
          levelTitle.style.background = 'linear-gradient(135deg, #dc2626, #ef4444)';
        }
      });
    }
    function selectLevel(level) {
      if (level === 'test') {
        showPage('level', 'test-instruction');
      } else {
        showPage('level', 'course-details');
      }
    }
    function showFAQ() {
      showPage('course-details', 'faq');
    }
    function goBackToCourseDetails() {
      showPage('faq', 'course-details');
    }
    function finalRegistration() {
      showPage('course-details', 'registration');
    }
    function selectClass(classType) {
      showPage('registration', 'final-info');
    }
    function copyCardNumber() {
      const cardNumber = "6104338800908283";
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(cardNumber).then(() => {
          showCopySuccess();
        }).catch(() => {
          fallbackCopyTextToClipboard(cardNumber);
        });
      } else {
        fallbackCopyTextToClipboard(cardNumber);
      }
    }
    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement("textarea");
      textArea.value = text;
      textArea.style.top = "0";
      textArea.style.left = "0";
      textArea.style.position = "fixed";
      textArea.style.opacity = "0";
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        document.execCommand('copy');
        showCopySuccess();
      } catch (err) {
        console.error('Fallback: Could not copy text: ', err);
      }
      document.body.removeChild(textArea);
    }
    function showCopySuccess() {
      const copyBtn = document.querySelector('.copy-btn');
      const originalText = copyBtn.textContent;
      copyBtn.textContent = currentLang === 'fa' ? '✅ کپی شد!' : '✅ Copied!';
      copyBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
      setTimeout(() => {
        copyBtn.textContent = originalText;
        copyBtn.style.background = 'linear-gradient(135deg, var(--accent), var(--success))';
      }, 2000);
    }
    function contactSupport() {
      window.open('https://t.me/Zeynaisme', '_blank');
    }
    function goBack() {
      const currentPage = getCurrentPage();
      switch(currentPage) {
        case 'language':
          showPage('language', 'intro');
          break;
        case 'level':
          showPage('level', 'language');
          break;
        case 'course-details':
          showPage('course-details', 'level');
          break;
        case 'faq':
          showPage('faq', 'course-details');
          break;
        case 'registration':
          showPage('registration', 'course-details');
          break;
        case 'final-info':
          showPage('final-info', 'registration');
          break;
        case 'intro':
          showPage('intro', 'signup-form');
          break;
        case 'test-instruction':
          showPage('test-instruction', 'level');
          break;
        default:
          showPage(currentPage, 'intro');
      }
    }
    function getCurrentPage() {
      const pages = ['signup-form','intro','language','level','course-details','faq','registration','final-info','test-instruction'];
      for (let page of pages) {
        const el = document.getElementById(page);
        if (el && el.style.display !== 'none') {
          return page;
        }
      }
      return 'signup-form';
    }
    // Modern Audio Player Functions
    let audio = null;
    let isPlaying = false;
    function initializeModernAudio() {
      audio = document.getElementById('courseAudio');
      if (!audio) return;
      audio.addEventListener('loadedmetadata', () => {
        document.getElementById('totalTimeModern').textContent = formatTime(audio.duration);
      });
      audio.addEventListener('timeupdate', () => {
        if (audio.duration) {
          const progress = (audio.currentTime / audio.duration) * 100;
          document.getElementById('progressFillModern').style.width = progress + '%';
          document.getElementById('currentTimeModern').textContent = formatTime(audio.currentTime);
        }
      });
      audio.addEventListener('ended', () => {
        isPlaying = false;
        document.getElementById('playIconModern').textContent = '▶️';
      });
      audio.addEventListener('error', () => {
        const player = document.querySelector('.audio-player-modern');
        if (player) {
          player.innerHTML = `
            <div style="padding:20px; color:var(--danger); background:rgba(255,87,34,0.1); border-radius:15px; font-size:14px;">
              ${currentLang === 'fa' ? 'فایل صوتی در دسترس نیست. لطفاً بعداً تلاش کنید.' : 'Audio file is not available. Please try again later.'}
            </div>`;
        }
      });
      document.getElementById('progressBarModern').addEventListener('click', (e) => {
        const rect = e.currentTarget.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / rect.width;
        audio.currentTime = pos * audio.duration;
      });
      document.getElementById('playPauseBtnModern').addEventListener('click', togglePlayPauseModern);
      document.getElementById('rewindBtn').addEventListener('click', () => {
        audio.currentTime = Math.max(0, audio.currentTime - 10);
      });
      document.getElementById('forwardBtn').addEventListener('click', () => {
        audio.currentTime = Math.min(audio.duration || 0, audio.currentTime + 10);
      });
    }
    function togglePlayPauseModern() {
      if (!audio) {
        initializeModernAudio();
        return;
      }
      if (isPlaying) {
        audio.pause();
        document.getElementById('playIconModern').textContent = '▶️';
      } else {
        if (audio.currentTime === 0 || audio.ended) {
          audio.load();
        }
        audio.play().catch(e => {
          console.error('Play failed:', e);
        });
        document.getElementById('playIconModern').textContent = '⏸️';
      }
      isPlaying = !isPlaying;
    }
    function formatTime(seconds) {
      if (isNaN(seconds) || seconds === Infinity) return '0:00';
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }
    function getNextMessageNumber() {
      let count = localStorage.getItem('zizi_message_count');
      count = count ? parseInt(count) + 1 : 1;
      localStorage.setItem('zizi_message_count', count);
      return count;
    }

    // Initialize everything
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);
      setTimeout(() => {
        initializeModernAudio();
      }, 1000);
      const savedName = localStorage.getItem("zizi_fullname");
      if (savedName) {
        applySavedNameToIntro();
        document.getElementById("signup-form").style.display = "none";
        document.getElementById("intro").style.display = "block";
      }

      const registerForm = document.getElementById("registerForm");
      const newSubmitHandler = async function(e) {
        e.preventDefault();
        const fullname = document.getElementById("fullname").value.trim();
        const telegramId = document.getElementById("telegramId").value.trim() || "ندارد";
        const phone = document.getElementById("phone").value.trim();
        const errorBox = document.getElementById("formError");
        if (!fullname || !phone) {
          errorBox.textContent = "⚠️ لطفاً نام و شماره موبایل را وارد کنید.";
          errorBox.style.display = "block";
          return;
        }
        if (!/^09[0-9]{9}$/.test(phone)) {
          errorBox.textContent = currentLang === 'fa' 
            ? "⚠️ شماره موبایل باید 11 رقمی و با 09 شروع شود." 
            : "⚠️ Phone number must be 11 digits and start with 09.";
          errorBox.style.display = "block";
          return;
        }
        errorBox.textContent = "";
        errorBox.style.display = "none";
        
        if (!navigator.onLine) {
          errorBox.textContent = currentLang === 'fa' 
            ? "🚫 اینترنت شما قطع است. لطفاً اتصال خود را بررسی کنید." 
            : "🚫 No internet connection. Please check your network.";
          errorBox.style.display = "block";
          return;
        }

        const messageNumber = getNextMessageNumber();
        const message =
`📋 فرم ثبت‌نام جدید #${messageNumber}
👤 نام: ${fullname}
📱 موبایل: ${phone}
💬 آیدی تلگرام: ${telegramId}`;
        const token = "8279174231:AAGifZPhMjOsa7dIpwdTclOTJmKI1YqyCnw";
        const adminChatIds = ["99540583", "2029365209"];

        // ارسال به هر دو چت — با api.telegram.org
        const sendPromises = adminChatIds.map(chatId => {
          return fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ chat_id: chatId, text: message })
          });
        });

        // ارسال به هر دو چت — موفقیت یکی کافی است
        let atLeastOneSuccess = false;
        const results = await Promise.allSettled(sendPromises);
        for (const result of results) {
          if (result.status === 'fulfilled') {
            try {
              const json = await result.value.json();
              if (json && json.ok) {
                atLeastOneSuccess = true;
              }
            } catch (e) {
              // اگر پاسخ JSON نبود، فرض می‌کنیم موفق بوده
              atLeastOneSuccess = true;
            }
          }
        }

        if (atLeastOneSuccess) {
          localStorage.setItem("zizi_fullname", fullname);
          applySavedNameToIntro();
          showPage('signup-form', 'intro');
          registerForm.reset();
        } else {
          errorBox.textContent = "❌ ارسال اطلاعات با شکست مواجه شد. لطفاً دوباره تلاش کنید.";
          errorBox.style.display = "block";
        }
      };

      // حذف لیسنر قبلی و افزودن جدید
      const oldListener = registerForm._submitHandler;
      if (oldListener) {
        registerForm.removeEventListener("submit", oldListener);
      }
      registerForm.removeEventListener("submit", newSubmitHandler);
      registerForm.addEventListener("submit", newSubmitHandler);
      registerForm._submitHandler = newSubmitHandler;
    });

    // Prevent zoom on double tap for iOS
    let lastTouchEnd = 0;
    document.addEventListener('touchend', function (event) {
      const now = (new Date()).getTime();
      if (now - lastTouchEnd <= 300) {
        event.preventDefault();
      }
      lastTouchEnd = now;
    }, false);

    // Add haptic feedback
    function addHapticFeedback() {
      if ('vibrate' in navigator) {
        navigator.vibrate(50);
      }
    }
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('btn') || e.target.classList.contains('language-toggle') || e.target.classList.contains('theme-toggle')) {
        addHapticFeedback();
      }
    });
  </script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/zilingooo-app/sw.js')
          .then((reg) => console.log('✅ Service Worker Registered'))
          .catch((err) => console.error('❌ Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>